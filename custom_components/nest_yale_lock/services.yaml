reset_connection:
  name: Reset Connection
  description: Force the Nest x Yale integration to reauthenticate and rebuild its connection.
  fields:
    entry_id:
      name: Entry ID
      description: Optional config entry id to target; when omitted, all active entries are reset.
      example: "01ABCDEF1234567890"
      selector:
        text:

set_guest_passcode:
  name: Set Guest Passcode
  description: Not supported yet for Nest x Yale. Nest requires encrypted pincode payloads, so this action currently returns a clear error and does not change passcodes.
  fields:
    entry_id:
      name: Entry ID
      description: Optional config entry id to target; when omitted, all active entries are targeted.
      example: "01ABCDEF1234567890"
      selector:
        text:
    entity_id:
      name: Lock Entity
      description: Recommended. Select the lock entity to target; this auto-resolves the underlying Nest device id.
      selector:
        entity:
          domain: lock
          integration: nest_yale_lock
    device_id:
      name: Device ID
      description: Advanced fallback. Optional lock device id (DEVICE_*). Required only when you do not use lock entity selection.
      example: "DEVICE_1234567890"
      selector:
        text:
    guest_user_id:
      name: Guest User ID
      description: Optional guest user resource id (for example, USER_1234567890123456). If omitted, slot is used. If omitted and only one mapped user exists, it is auto-selected.
      example: "USER_1234567890123456"
      selector:
        text:
    slot:
      name: Slot
      description: Optional existing slot number to resolve user id automatically. Provide this or guest_user_id.
      example: 3
      selector:
        number:
          min: 1
          max: 25
          mode: box
    passcode:
      name: Passcode
      description: Numeric passcode to assign (length is validated against lock capabilities when available).
      example: "123456"
      required: true
      selector:
        text:
    enabled:
      name: Enabled
      description: Whether the guest passcode should be enabled after assignment.
      example: true
      default: true
      selector:
        boolean:

delete_guest_passcode:
  name: Delete Guest Passcode
  description: Delete the guest passcode using either a guest user id or an existing slot number on a Nest x Yale lock.
  fields:
    entry_id:
      name: Entry ID
      description: Optional config entry id to target; when omitted, all active entries are targeted.
      example: "01ABCDEF1234567890"
      selector:
        text:
    entity_id:
      name: Lock Entity
      description: Recommended. Select the lock entity to target; this auto-resolves the underlying Nest device id.
      selector:
        entity:
          domain: lock
          integration: nest_yale_lock
    device_id:
      name: Device ID
      description: Advanced fallback. Optional lock device id (DEVICE_*). Required only when you do not use lock entity selection.
      example: "DEVICE_1234567890"
      selector:
        text:
    guest_user_id:
      name: Guest User ID
      description: Optional guest user resource id (for example, USER_1234567890123456). If omitted, slot is used. If omitted and only one mapped user exists, it is auto-selected.
      example: "USER_1234567890123456"
      selector:
        text:
    slot:
      name: Slot
      description: Optional existing slot number to resolve user id automatically. Provide this or guest_user_id.
      example: 3
      selector:
        number:
          min: 1
          max: 25
          mode: box
